[gd_scene load_steps=42 format=3 uid="uid://bhghm74u2o8ik"]

[ext_resource type="ButtonGroup" uid="uid://ccxcutyn7ifmw" path="res://components/editor/tools_group.tres" id="1_88smh"]
[ext_resource type="Script" path="res://components/editor/editor.gd" id="1_wb1k2"]
[ext_resource type="Script" path="res://components/editor/gridlines.gd" id="2_jsp0s"]
[ext_resource type="Texture2D" uid="uid://bkq4iy7vqadw3" path="res://assets/cmode/inv.svg" id="2_od75m"]
[ext_resource type="ButtonGroup" uid="uid://c6kxtnnl4kyma" path="res://components/editor/cmode_group.tres" id="2_qbssp"]
[ext_resource type="Texture2D" uid="uid://3q48hfg0mxcv" path="res://assets/cmode/cell.svg" id="3_gnkst"]
[ext_resource type="Texture2D" uid="uid://bwgdu8vufmqcl" path="res://assets/cmode/t.svg" id="6_mqen1"]
[ext_resource type="Texture2D" uid="uid://qef2nehtarn1" path="res://assets/cmode/f.svg" id="7_ukwbh"]
[ext_resource type="Texture2D" uid="uid://csbivr00slmx4" path="res://assets/cmode/default.svg" id="8_dxryl"]
[ext_resource type="Script" path="res://components/editor/grid.gd" id="9_8b0ie"]

[sub_resource type="InputEventAction" id="InputEventAction_osuyi"]
action = &"bited_move"

[sub_resource type="Shortcut" id="Shortcut_kyc1p"]
events = [SubResource("InputEventAction_osuyi")]

[sub_resource type="InputEventAction" id="InputEventAction_43gh8"]
action = &"bited_pen"

[sub_resource type="Shortcut" id="Shortcut_lgybh"]
events = [SubResource("InputEventAction_43gh8")]

[sub_resource type="InputEventAction" id="InputEventAction_fkyn5"]
action = &"bited_line"

[sub_resource type="Shortcut" id="Shortcut_el2rj"]
events = [SubResource("InputEventAction_fkyn5")]

[sub_resource type="InputEventAction" id="InputEventAction_iqmbl"]
action = &"bited_rect"

[sub_resource type="Shortcut" id="Shortcut_p7pfg"]
events = [SubResource("InputEventAction_iqmbl")]

[sub_resource type="InputEventAction" id="InputEventAction_3cfxf"]
action = &"bited_mode_default"

[sub_resource type="Shortcut" id="Shortcut_ulfqc"]
events = [SubResource("InputEventAction_3cfxf")]

[sub_resource type="InputEventAction" id="InputEventAction_ahsaq"]
action = &"bited_mode_t"

[sub_resource type="Shortcut" id="Shortcut_fvamu"]
events = [SubResource("InputEventAction_ahsaq")]

[sub_resource type="InputEventAction" id="InputEventAction_afy8t"]
action = &"bited_mode_f"

[sub_resource type="Shortcut" id="Shortcut_oxwf8"]
events = [SubResource("InputEventAction_afy8t")]

[sub_resource type="InputEventAction" id="InputEventAction_larhf"]
action = &"bited_mode_inv"

[sub_resource type="Shortcut" id="Shortcut_s1vyv"]
events = [SubResource("InputEventAction_larhf")]

[sub_resource type="InputEventAction" id="InputEventAction_ow1e3"]
action = &"bited_mode_cell"

[sub_resource type="Shortcut" id="Shortcut_8wt2y"]
events = [SubResource("InputEventAction_ow1e3")]

[sub_resource type="ViewportTexture" id="ViewportTexture_iwxi2"]
viewport_path = NodePath("CenterContainer/GridContainer/Grid/CenterContainer/Lines/SubViewport")

[sub_resource type="InputEventAction" id="InputEventAction_mcj1b"]
action = &"ui_undo"

[sub_resource type="Shortcut" id="Shortcut_8vm0w"]
events = [SubResource("InputEventAction_mcj1b")]

[sub_resource type="InputEventAction" id="InputEventAction_tuttj"]
action = &"ui_redo"

[sub_resource type="Shortcut" id="Shortcut_iofcn"]
events = [SubResource("InputEventAction_tuttj")]

[sub_resource type="InputEventAction" id="InputEventAction_2a0pl"]
action = &"bited_flip_x"

[sub_resource type="Shortcut" id="Shortcut_7qumc"]
events = [SubResource("InputEventAction_2a0pl")]

[sub_resource type="InputEventAction" id="InputEventAction_hjiqe"]
action = &"bited_flip_y"

[sub_resource type="Shortcut" id="Shortcut_w6nfi"]
events = [SubResource("InputEventAction_hjiqe")]

[sub_resource type="InputEventAction" id="InputEventAction_kd23h"]
action = &"bited_rot_ccw"

[sub_resource type="Shortcut" id="Shortcut_ctg0p"]
events = [SubResource("InputEventAction_kd23h")]

[sub_resource type="InputEventAction" id="InputEventAction_poeox"]
action = &"bited_rot_cw"

[sub_resource type="Shortcut" id="Shortcut_ren1t"]
events = [SubResource("InputEventAction_poeox")]

[node name="Editor" type="PanelContainer" node_paths=PackedStringArray("grid")]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_wb1k2")
grid = NodePath("CenterContainer/GridContainer/Grid")

[node name="CenterContainer" type="CenterContainer" parent="."]
layout_mode = 2

[node name="GridContainer" type="GridContainer" parent="CenterContainer"]
layout_mode = 2
theme_override_constants/h_separation = 16
theme_override_constants/v_separation = 16
columns = 3

[node name="1" type="Control" parent="CenterContainer/GridContainer"]
custom_minimum_size = Vector2(24, 24)
layout_mode = 2

[node name="2" type="HBoxContainer" parent="CenterContainer/GridContainer"]
layout_mode = 2
size_flags_horizontal = 4
theme_override_constants/separation = 8

[node name="dwidth" type="SpinBox" parent="CenterContainer/GridContainer/2"]
custom_minimum_size = Vector2(64, 0)
layout_mode = 2
min_value = -1.0
rounded = true
allow_greater = true
prefix = "w:"

[node name="3" type="Control" parent="CenterContainer/GridContainer"]
custom_minimum_size = Vector2(24, 0)
layout_mode = 2

[node name="4" type="VBoxContainer" parent="CenterContainer/GridContainer"]
layout_mode = 2
alignment = 1

[node name="move" type="Button" parent="CenterContainer/GridContainer/4"]
layout_mode = 2
tooltip_text = "move"
mouse_default_cursor_shape = 2
theme_type_variation = &"Tool"
toggle_mode = true
button_group = ExtResource("1_88smh")
shortcut = SubResource("Shortcut_kyc1p")
text = "âœ¥"

[node name="pen" type="Button" parent="CenterContainer/GridContainer/4"]
layout_mode = 2
tooltip_text = "pen"
mouse_default_cursor_shape = 2
theme_type_variation = &"Tool"
toggle_mode = true
button_pressed = true
button_group = ExtResource("1_88smh")
shortcut = SubResource("Shortcut_lgybh")
text = "âœŽ"

[node name="line" type="Button" parent="CenterContainer/GridContainer/4"]
layout_mode = 2
tooltip_text = "line"
mouse_default_cursor_shape = 2
theme_type_variation = &"Tool"
toggle_mode = true
button_group = ExtResource("1_88smh")
shortcut = SubResource("Shortcut_el2rj")
text = "â•²"

[node name="rect" type="Button" parent="CenterContainer/GridContainer/4"]
layout_mode = 2
tooltip_text = "rectangle"
mouse_default_cursor_shape = 2
theme_type_variation = &"Tool"
toggle_mode = true
button_group = ExtResource("1_88smh")
shortcut = SubResource("Shortcut_p7pfg")
text = "â–ˆ"

[node name="HSeparator" type="HSeparator" parent="CenterContainer/GridContainer/4"]
layout_mode = 2
theme_override_constants/separation = 9

[node name="DEFAULT" type="Button" parent="CenterContainer/GridContainer/4"]
texture_filter = 1
custom_minimum_size = Vector2(24, 24)
layout_mode = 2
tooltip_text = "color mode: default"
mouse_default_cursor_shape = 2
theme_type_variation = &"CMode"
toggle_mode = true
button_pressed = true
button_group = ExtResource("2_qbssp")
shortcut = SubResource("Shortcut_ulfqc")
icon = ExtResource("8_dxryl")
icon_alignment = 1
expand_icon = true

[node name="T" type="Button" parent="CenterContainer/GridContainer/4"]
texture_filter = 1
custom_minimum_size = Vector2(24, 24)
layout_mode = 2
tooltip_text = "color mode: draw"
mouse_default_cursor_shape = 2
theme_type_variation = &"CMode"
toggle_mode = true
button_group = ExtResource("2_qbssp")
shortcut = SubResource("Shortcut_fvamu")
icon = ExtResource("6_mqen1")
icon_alignment = 1
expand_icon = true

[node name="F" type="Button" parent="CenterContainer/GridContainer/4"]
texture_filter = 1
custom_minimum_size = Vector2(24, 24)
layout_mode = 2
tooltip_text = "color mode: erase"
mouse_default_cursor_shape = 2
theme_type_variation = &"CMode"
toggle_mode = true
button_group = ExtResource("2_qbssp")
shortcut = SubResource("Shortcut_oxwf8")
icon = ExtResource("7_ukwbh")
icon_alignment = 1
expand_icon = true

[node name="INV" type="Button" parent="CenterContainer/GridContainer/4"]
texture_filter = 1
custom_minimum_size = Vector2(24, 24)
layout_mode = 2
tooltip_text = "color mode: invert"
mouse_default_cursor_shape = 2
theme_type_variation = &"CMode"
toggle_mode = true
button_group = ExtResource("2_qbssp")
shortcut = SubResource("Shortcut_s1vyv")
icon = ExtResource("2_od75m")
icon_alignment = 1
expand_icon = true

[node name="CELL" type="Button" parent="CenterContainer/GridContainer/4"]
texture_filter = 1
custom_minimum_size = Vector2(24, 24)
layout_mode = 2
tooltip_text = "color mode: first-cell "
mouse_default_cursor_shape = 2
theme_type_variation = &"CMode"
toggle_mode = true
button_group = ExtResource("2_qbssp")
shortcut = SubResource("Shortcut_8wt2y")
icon = ExtResource("3_gnkst")
icon_alignment = 1
expand_icon = true

[node name="Grid" type="PanelContainer" parent="CenterContainer/GridContainer" node_paths=PackedStringArray("editor", "node_wrapper", "node_cells", "node_view_lines", "node_lines", "node_placeholder", "input_dwidth", "btn_undo", "btn_redo", "btn_flip_x", "btn_flip_y", "btn_rot_ccw", "btn_rot_cw")]
custom_minimum_size = Vector2(256, 256)
layout_mode = 2
theme_type_variation = &"Grid"
script = ExtResource("9_8b0ie")
editor = NodePath("../../..")
node_wrapper = NodePath("..")
node_cells = NodePath("CenterContainer/Cells")
node_view_lines = NodePath("CenterContainer/Lines/SubViewport")
node_lines = NodePath("CenterContainer/Lines/SubViewport/Node2D")
node_placeholder = NodePath("../../Placeholder")
input_dwidth = NodePath("../2/dwidth")
tools_group = ExtResource("1_88smh")
cmode_group = ExtResource("2_qbssp")
btn_undo = NodePath("../8/undo")
btn_redo = NodePath("../8/redo")
btn_flip_x = NodePath("../8/flip_x")
btn_flip_y = NodePath("../8/flip_y")
btn_rot_ccw = NodePath("../8/rot_ccw")
btn_rot_cw = NodePath("../8/rot_cw")

[node name="CenterContainer" type="CenterContainer" parent="CenterContainer/GridContainer/Grid"]
layout_mode = 2

[node name="Cells" type="TextureRect" parent="CenterContainer/GridContainer/Grid/CenterContainer"]
texture_filter = 1
texture_repeat = 1
layout_mode = 2
mouse_default_cursor_shape = 3

[node name="Lines" type="TextureRect" parent="CenterContainer/GridContainer/Grid/CenterContainer"]
layout_mode = 2
mouse_filter = 2
texture = SubResource("ViewportTexture_iwxi2")

[node name="SubViewport" type="SubViewport" parent="CenterContainer/GridContainer/Grid/CenterContainer/Lines"]
disable_3d = true
transparent_bg = true
size = Vector2i(256, 256)

[node name="Node2D" type="Node2D" parent="CenterContainer/GridContainer/Grid/CenterContainer/Lines/SubViewport" node_paths=PackedStringArray("grid")]
script = ExtResource("2_jsp0s")
grid = NodePath("../../../..")

[node name="6" type="VBoxContainer" parent="CenterContainer/GridContainer"]
layout_mode = 2
size_flags_vertical = 4
theme_override_constants/separation = 8

[node name="7" type="Control" parent="CenterContainer/GridContainer"]
custom_minimum_size = Vector2(0, 24)
layout_mode = 2

[node name="8" type="HBoxContainer" parent="CenterContainer/GridContainer"]
layout_mode = 2
size_flags_horizontal = 4

[node name="undo" type="Button" parent="CenterContainer/GridContainer/8"]
layout_mode = 2
tooltip_text = "undo"
mouse_default_cursor_shape = 2
theme_type_variation = &"Op"
shortcut = SubResource("Shortcut_8vm0w")
text = "â®ª"

[node name="redo" type="Button" parent="CenterContainer/GridContainer/8"]
layout_mode = 2
tooltip_text = "redo"
mouse_default_cursor_shape = 2
theme_type_variation = &"Op"
shortcut = SubResource("Shortcut_iofcn")
text = "â®«"

[node name="VSeparator" type="VSeparator" parent="CenterContainer/GridContainer/8"]
layout_mode = 2
theme_override_constants/separation = 9

[node name="flip_x" type="Button" parent="CenterContainer/GridContainer/8"]
layout_mode = 2
tooltip_text = "flip horiz"
mouse_default_cursor_shape = 2
theme_type_variation = &"Op"
shortcut = SubResource("Shortcut_7qumc")
text = "ðŸ¡˜"

[node name="flip_y" type="Button" parent="CenterContainer/GridContainer/8"]
layout_mode = 2
tooltip_text = "flip vert"
mouse_default_cursor_shape = 2
theme_type_variation = &"Op"
shortcut = SubResource("Shortcut_w6nfi")
text = "ðŸ¡™"

[node name="rot_ccw" type="Button" parent="CenterContainer/GridContainer/8"]
layout_mode = 2
tooltip_text = "rotate ccw"
mouse_default_cursor_shape = 2
theme_type_variation = &"Op"
shortcut = SubResource("Shortcut_ctg0p")
text = "âŸ²"

[node name="rot_cw" type="Button" parent="CenterContainer/GridContainer/8"]
layout_mode = 2
tooltip_text = "rotate cw"
mouse_default_cursor_shape = 2
theme_type_variation = &"Op"
shortcut = SubResource("Shortcut_ren1t")
text = "âŸ³"

[node name="Placeholder" type="Label" parent="CenterContainer"]
visible = false
layout_mode = 2
theme_type_variation = &"Muted"
theme_override_font_sizes/font_size = 32
text = "select a glyph to start..."
horizontal_alignment = 1
vertical_alignment = 1
